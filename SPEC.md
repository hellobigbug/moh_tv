# MOH TV - 安卓电视直播客户端

## 1. 项目概述

**项目名称**: MOH TV  
**项目类型**: Android TV 直播应用  
**核心功能**: 基于IPTV协议的电视直播播放器，支持多源直播源管理、频道分类、收藏、播放控制等  
**目标用户**: Android TV/智能电视/机顶盒用户

## 2. 技术选型

### 框架与语言
- **语言**: Kotlin 1.9.x
- **UI框架**: Jetpack Compose (Material 3)
- **最小SDK**: API 24 (Android 7.0)
- **目标SDK**: API 34 (Android 14)

### 核心库
- **播放器**: Media3 ExoPlayer 1.2.x
- **网络**: Retrofit2 + OkHttp4
- **JSON解析**: Kotlinx Serialization
- **依赖注入**: Hilt
- **异步**: Kotlin Coroutines + Flow
- **本地存储**: Room Database + DataStore
- **图片加载**: Coil

### 架构模式
- **MVVM** + Clean Architecture
- **单Activity** + Compose Navigation

## 3. 功能列表

### 3.1 直播播放
- [x] M3U8/HLS流播放
- [x] 多码率自适应
- [x] 硬件加速解码
- [x] 播放控制（播放/暂停/音量/快退快进）
- [x] 频道切换（上/下一个）
- [x] 清晰度选择

### 3.2 频道管理
- [x] 频道分类（央视/卫视/地方台/体育/影视等）
- [x] 频道收藏
- [x] 频道搜索
- [x] 最近观看

### 3.3 直播源管理
- [x] GitHub源自动同步
- [x] 多源配置
- [x] 增量更新
- [x] 手动更新触发
- [x] 直播源验证
- [x] 源备份与恢复

### 3.4 用户界面
- [x] TV遥控器全操作支持
- [x] 横向分类导航
- [x] 纵向频道列表
- [x] 全屏播放界面
- [x] 设置界面

### 3.5 系统功能
- [x] 自动更新（每日凌晨2点）
- [x] 网络异常重连
- [x] 播放失败重试
- [x] 状态恢复

## 4. UI/UX 设计方向

### 视觉风格
- Material Design 3
- 深色主题为主（适配电视观看）
- 简洁清爽无广告

### 颜色方案
- 主色: #1E88E5 (蓝色)
- 背景: #121212 (深灰)
- 表面: #1E1E1E (深灰)
- 文字: #FFFFFF / #B3B3B3

### 布局结构
- 主界面：左侧分类栏 + 右侧频道网格
- 播放界面：全屏视频 + 底部控制栏
- 设置界面：列表式布局

### 遥控器支持
- 方向键：导航
- 确认键：选择/播放
- 返回键：退出
- 菜单键：显示选项
- 音量键：调节音量
